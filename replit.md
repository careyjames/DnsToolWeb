# DNS Tool — Domain Security Audit

## Overview
OSINT platform for RFC-compliant domain security analysis. Go/Gin backend, Bootstrap dark theme frontend, PostgreSQL database. BSL 1.1 license with two-repo open-core architecture.

## Key Files
- **PROJECT_CONTEXT.md** — Canonical project context (stable, comprehensive). READ THIS FIRST.
- **EVOLUTION.md** — Permanent breadcrumb trail. Backup if this file resets.
- **DOCS.md** — Technical documentation
- **DOD.md** — Definition of Done checklist

## Critical Rules (Summary)
1. **After ANY Go code changes**: Run `go test ./go-server/... -count=1` before considering work done.
2. **After CSS changes**: Run `npx csso static/css/custom.css -o static/css/custom.min.css`
3. **Version bumps**: Update `AppVersion` in `go-server/internal/config/config.go`
4. **Build**: `./build.sh` compiles to `./dns-tool-server`; `main.py` is the gunicorn trampoline.
5. **CSP**: No inline onclick/onchange/style="". Use addEventListener in nonce'd script blocks.
6. **Safari**: Use showOverlay() for animated overlays — WebKit animation restart bug.
7. **SecurityTrails**: User-key-only. NEVER call automatically. 50 req/month hard limit.
8. **Reality Check**: Every claim must be backed by implemented code. Use "on the roadmap" for future items.
9. **Font Awesome**: WOFF2 subset only. Check CSS rule exists before using new icons.
10. **Stubs**: `_oss.go` files return safe non-nil defaults, never errors.

## Architecture Quick Reference
- **Build tags**: `//go:build intel` (private) / `//go:build !intel` (public OSS stubs)
- **11 stub files**: edge_cdn, saas_txt, infrastructure, providers, ip_investigation, manifest, ai_surface/{http,llms_txt,robots_txt,poisoning,scanner}
- **Reports**: "Engineer's DNS Intelligence Report" (technical) / "Executive's DNS Intelligence Brief" (board-ready)
- **TLP**: FIRST TLP v2.0, default TLP:AMBER

## Note About This File
This file may be regenerated by the Replit platform. If it appears truncated or reset, the full project context lives in `PROJECT_CONTEXT.md` and `EVOLUTION.md`. Keep this file lightweight — detailed context belongs in PROJECT_CONTEXT.md.
